<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Trailblazer: Activity API</title>
<meta name="description" content="Activity API - Trailblazer">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content=", ">

<!-- style -->
<link rel="shortcut icon" href="../../../favicon.ico">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,%20400,700,800%7CRaleway:400,200,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../css/application.css">

<!-- script -->
<script src="../../../javascripts/jquery.min.js"></script>
<script src="../../../javascripts/application.min.js"></script>
<script>
  jQuery(document).ready(function($) {
    $(document).foundation();

    anchors.add("article h2");
    anchors.add("article h3");

    hljs.configure({
      languages: ['ruby', 'haml']
    });

    hljs.initHighlightingOnLoad();

    // $('#code-slider').slick({arrows: true, dots: true});
    $('.carousel').slick({arrows: true, dots: true});
  });
</script>


<meta property="og:title" content="Activity API">
<meta property="og:site_name" content="Trailblazer">
<meta property="og:url" content="http://trailblazer.to/gems/activity/0.2/api.html">
<meta property="og:description" content="">
<meta property="og:image" content="http://trailblazer.to/images/go-trailblazer.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@apotonick">
<meta name="twitter:title" content="Activity API">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="http://trailblazer.to/images/go-trailblazer.jpg">

  </head>
  <body>


  <!--
    <div class="secondary callout" data-closable>
      <strong>TRB JOBS:</strong> Deutschsprachiger Ruby Developer in Hannover - <a href="/inc/jobs.html">Jaaaa!</a>
      <button class="close-button" aria-label="Dismiss alert" type="button" data-close>
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  -->

      <a class="notice" style="display: block; overflow: hidden; position: relative; width: 100%; padding: 0.6rem 0; background-color: #3b5998;" href="http://fb.me/trailblazer.to">
    <div class="info" style="text-align: center;">
      <h5 style="font-size: 0.9rem; color: white; font-weight: bold;">
        <i class="fa fa-facebook-square" aria-hidden="true" style="font-size: 1.2rem;"></i>
        LIKE US FOR UPDATES + GET A FREE STICKER PACK!
      </h5>
    </div>
  </a>


    <div data-sticky-container class="top-navbar">
  <div class="top-bar sticky" data-sticky data-options="marginTop:0;" style="width:100%">
    <div class="top-bar-title">
      <ul class="menu horizontal">
        <li>
          <a href="../../../index.html"><img style="height: 25px;" src="../../../images/logo-top.svg"></a>
        </li>
        <li>
        <span data-responsive-toggle="responsive-menu" data-hide-for="medium">
          <button class="menu-icon" type="button" data-toggle></button>
        </span>
        </li>
      </ul>
    </div>

    <div id="responsive-menu">
      <div class="top-bar-right">
        <ul class="dropdown menu     vertical medium-horizontal" data-dropdown-menu>
          <li><a href="../../../blog/2017-12-trailblazer-2-1-what-you-need-to-know.html">TRB 2.1 IS COMING!</a></li>
          <li><a href="https://trbpro.herokuapp.com/">PREMIUM SUPPORT <img alt="Premium Support" src="../../../images/pro-white.png"></a></li>
          <li><a href="../../../newsletter.html">NEWSLETTER</a></li>
          <li><a href="https://gitter.im/trailblazer/chat" onclick="trackOutboundLink('https://gitter.im/trailblazer/chat'); return false;">CHAT</a></li>
          <li><a href="../../../guides.html">LEARN</a></li>
          <li>
            <a href="api.html#">GEMS</a>
            <ul class="menu vertical">
              <li class=""><a href="../../cells.html">CELLS</a></li>
              <li class=""><a href="../../operation/2.0/index.html">OPERATION</a></li>
              <li class=""><a href="../../reform.html">REFORM</a></li>
              <li class=""><a href="../../representable.html">REPRESENTABLE</a></li>
              <li class=""><a href="../../roar.html">ROAR</a></li>
              <li class=""><a href="../../formular.html">FORMULAR</a></li>
              <li class=""><a href="../../disposable.html">DISPOSABLE</a></li>
            </ul>
          </li>
          <li>
            <a href="https://leanpub.com/trailblazer" class="button secondary" onclick="trackOutboundLink('https://leanpub.com/trailblazer'); return false;">GET THE BOOK</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>


    <!-- Hero -->
<div class="hero gems-hero operation2-hero">
  <div class="hero-unit">
    <div class="expanded row">
      <div class="columns">
        <h1 id="project_title">
          Operation
        </h1>
      </div>
    </div>
  </div>
</div>


    <div class="expanded row">
      <div class="medium-9 large-10 medium-push-3 large-push-2 columns">
        <article class="operation2-body">

          
            <header id="doc-header">
  <h1 class="doc-page-title">Activity API</h1>
  <span class="doc-last-updated"><i class="fa fa-clock-o" aria-hidden="true"></i> Last updated 03 November 2017</span>

  
    <span class="doc-last-updated">
      <i class="fa fa-diamond" aria-hidden="true"></i>
      <a href="https://github.com/trailblazer/trailblazer-activity">trailblazer-activity</a>

      <a href="api.html">
      <span class="version">v0.2</span>
      </a>

    

    </span>
  

  <hr>

</header>

          

          <div class="row"> <!-- nach doc header -->
            <div class="large-9 columns" id="docs">   <!-- actual docs -->
              <p>An <em>activity</em> is a collection of connected <em>tasks</em> with one <em>start event</em> and one (or many) <em>end</em> events.</p>

<h2 id="overview" data-magellan-target="overview">Overview</h2>

<div class="callout">
  
<p>Since TRB 2.1, we use <a href="http://www.bpmn.org/">BPMN</a> lingo and concepts for describing workflows and processes.</p>

</div>

<p>An activity is a workflow that contains one or several tasks. It is the main concept to organize control flow in Trailblazer.</p>

<p>The following diagram illustrates an exemplary workflow where a user writes and publishes a blog post.</p>

<p><img src="../../../images/diagrams/blog-bpmn1.png"></p>

<p>After writing and spell-checking, the author has the chance to publish the post or, in case of typos, go back, correct, and go through the same flow, again. Note that there’s only a handful of defined transistions, or connections. An author, for example, is not allowed to jump from “correct” into “publish” without going through the check.</p>

<p>The <code class="highlighter-rouge">activity</code> gem allows you to define this <em>activity</em> and takes care of implementing the control flow, running the activity and making sure no invalid paths are taken.</p>

<p>Your job is solely to implement the tasks and deciders put into this activity - Trailblazer makes sure it is executed it in the right order, and so on.</p>

<p>To eventually run this activity, three things have to be done.</p>

<ol>
  <li>The activity needs be defined. Easiest is to use the <a href="api.html#activity-fromhash">Activity.from_hash builder</a>.</li>
  <li>It’s the programmer’s job (that’s you!) to implement the actual tasks (the “boxes”). Use <a href="api.html#task">tasks for that</a>.</li>
  <li>After defining and implementing, you can run the activity with any data <a href="api.html#activity-call">by <code class="highlighter-rouge">call</code>ing it</a>.</li>
</ol>

<h2 id="operation-vs-activity" data-magellan-target="operation-vs-activity">Operation vs. Activity</h2>

<p>An <code class="highlighter-rouge">Activity</code> allows to define and maintain a graph, that at runtime will be used as a “circuit”. Or, in other words, it defines the boxes, circles, arrows and signals between them, and makes sure when running the activity, the circuit with your rules will be executed.</p>

<p>Please note that an <code class="highlighter-rouge">Operation</code> simply provides a neat DSL for creating an <code class="highlighter-rouge">Activity</code> with a railway-oriented wiring (left and right track). An operation <em>always</em> maintains an activity internally.</p>

<pre>
  <code>class Create &lt; Trailblazer::Operation
  step :exists?, pass_fast: true
  step :policy
  step :validate
  fail :log_err
  step :persist
  fail :log_db_err
  step :notify
end
</code>
</pre>

<p>Check the operation above. The DSL to create the activity with its graph is very different to <code class="highlighter-rouge">Activity</code>, but the outcome is a simple activity instance.</p>

<p><img src="../../../images/graph/op-vs-activity.png"></p>

<p>When <code class="highlighter-rouge">call</code>ing an operation, several transformations on the arguments are applied, and those are passed to the <code class="highlighter-rouge">Activity#call</code> invocation. After the activity finished, its output is transformed into a <code class="highlighter-rouge">Result</code> object.</p>

<h2 id="activity" data-magellan-target="activity">Activity</h2>

<p>To understand how an activity works and what it performs in your application logic, it’s easiest to see how activities are defined, and used.</p>

<h2 id="activity-fromhash" data-magellan-target="activity-fromhash">Activity: From_Hash</h2>

<p>Instead of using an operation, you can manually define activities by using the <code class="highlighter-rouge">Activity.from_hash</code> builder.</p>

<pre><code>activity = Activity.from_hash do |start, _end|
  {
    start            =&gt; { Trailblazer::Activity::Right =&gt; Blog::Write },
    Blog::Write      =&gt; { Trailblazer::Activity::Right =&gt; Blog::SpellCheck },
    Blog::SpellCheck =&gt; { Trailblazer::Activity::Right =&gt; Blog::Publish,
                          Trailblazer::Activity::Left =&gt; Blog::Correct },
    Blog::Correct    =&gt; { Trailblazer::Activity::Right =&gt; Blog::SpellCheck },
    Blog::Publish    =&gt; { Trailblazer::Activity::Right =&gt; _end }
  }
end
</code></pre>

<p>The block yields a generic start and end event instance. You then connect every <em>task</em> in that hash (hash keys) to another task or event via the emitted <em>signal</em>.</p>

<h2 id="activity-call" data-magellan-target="activity-call">Activity: Call</h2>

<p>To run the activity, you want to <code class="highlighter-rouge">call</code> it.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>my_options = {}
last_signal, options, flow_options, _ = activity.( nil, my_options, {} )
</code></pre>
</div>

<ol>
  <li>The <code class="highlighter-rouge">start</code> event is <code class="highlighter-rouge">call</code>ed and per default returns the generic <em>signal</em><code class="highlighter-rouge">Trailblazer::Circuit::Right</code>.</li>
  <li>This emitted (or returned) signal is connected to the next task <code class="highlighter-rouge">Blog::Write</code>, which is now <code class="highlighter-rouge">call</code>ed.</li>
  <li>
<code class="highlighter-rouge">Blog::Write</code> emits another <code class="highlighter-rouge">Right</code> signal that leads to <code class="highlighter-rouge">Blog::SpellCheck</code> being <code class="highlighter-rouge">call</code>ed.</li>
  <li>
<code class="highlighter-rouge">Blog::SpellCheck</code> defines two outgoing signals and hence can decide what next task to call by emitting either <code class="highlighter-rouge">Right</code> if the spell check was ok, or <code class="highlighter-rouge">Left</code> if the post contains typos.</li>
  <li>…and so on.</li>
</ol>

<section class=" ">
  <div class="row">
    <div class="column medium-6 ">
        <p><img src="../../../images/graph/blogpost-activity.png"></p>


      </div>
    <div class="column medium-6 ">
        <p>Visualizing an activity as a graph makes it very straight-forward to understanding the mechanics of the flow.</p>

<p>Note how signals translate to edges (or connections) in the graph, and tasks become vertices (or nodes).</p>

      </div>
</div></section>

<p>The return values are the <code class="highlighter-rouge">last_signal</code>, which is usually the end event (they return themselves as a signal), the last <code class="highlighter-rouge">options</code> that usually contains all kinds of data from running the activity, and additional args.</p>

<h2 id="activity-fromwirings" data-magellan-target="activity-fromwirings">Activity: From_Wirings</h2>

<p>TODO: currently, this is not relevant for normal use cases.</p>

<h2 id="signal" data-magellan-target="signal">Signal</h2>

<p>Signals are objects emitted or returned by tasks and activities. Every signal returned by a task needs to be wired to a follow-up task or event in the circuit. Otherwise, you will see a <code class="highlighter-rouge">IllegalOutputSignalError</code> from the circuit at run-time.</p>

<p>Please note that a signal can be any object, it doesn’t necessarily have to be <code class="highlighter-rouge">Circuit::Right</code> or <code class="highlighter-rouge">Circuit::Left</code>. These are simple generic library signals, but you can use strings, your own classes or whatever else makes sense for you.</p>

<p>The decoupling of return values (signals) and the actual wiring in the activity is by design and allows to reconnect tasks and their outputs without having to change the implementation.</p>

<h2 id="task" data-magellan-target="task">Task</h2>

<p>Every “box” in a circuit is called <em>task</em> in Trailblazer. This is <a href="https://camunda.org/bpmn/reference/#activities-task">adopted from the BPMN standard</a>. A task can be any object with a <code class="highlighter-rouge">call</code> method: a lambda, a callable object, an operation, an activity, etc. As long as it follows the <em>task interface</em>, anything can be plugged into an activity’s circuit.</p>

<h2 id="task-interface" data-magellan-target="task-interface">Task Interface</h2>

<p>The task interface is the low-level interface for tasks in activities. It is identical to <code class="highlighter-rouge">call</code> in the <a href="api.html##activity-interface-call">Activity interface</a>.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>task = lambda do | signal, options, flow_options, *args |
  puts "Hey, I was called!"

  options["model"] = Song.new

  [ Trailblazer::Circuit::Right, options, flow_options, *args ]
end
</code></pre>
</div>

<p>While <code class="highlighter-rouge">signal</code> as the emitted signal from the previous task is usually to be ignored, <code class="highlighter-rouge">options</code> represents the incoming run-time data, <code class="highlighter-rouge">flow_options</code> is a library-level data structure, and an arbitrary number of additional incoming arguments need to be accepted <strong>and returned</strong>.</p>

<p>It’s up to the task whether to write to <code class="highlighter-rouge">options</code>, create a new object, etc.</p>

<p>The returned signal (e.g. <code class="highlighter-rouge">Right</code>) is crucial as it is used to determine the next task after this one.</p>

<p>All returned data is directly passed as input arguments to the next task or event.</p>

<div class="callout">
  
<p>Always remember that the <strong>task interface</strong> is the pure, low-level form for tasks. It allows to access and return any data that is available and relevant for running activities.</p>

<p>The <strong>step interface</strong> is a higher level interface for “tasks” that is <a href="http://trailblazer.to/gems/operation/2.1/api.html#step-interface">introduced by <code>trailblazer-operation</code></a>. It is more convenient to use for developers but gives you a limited number of run-time arguments, only.</p>

</div>

<p>Tasks can also be any callable object, for example a class with a <code class="highlighter-rouge">call</code> class method.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>class MyTask
  def self.call( signal, options, flow_options, *args )
    puts "Hey, I was called!"

    options["model"] = Song.new

    [ Trailblazer::Circuit::Right, options, flow_options, *args ]
  end
end
</code></pre>
</div>

<h2 id="activity-interface" data-magellan-target="activity-interface">Activity Interface</h2>

<p>The <em>Activity interface</em> allows you to use any kind of object as an activity, as long as it follows this interface. This is especially helpful when composing complex workflows where activities call activities, etc. as it doesn’t limit you to operations, only.</p>

<p>You need to expose two public methods, only.</p>

<ul>
  <li><code class="highlighter-rouge">Activity#call</code></li>
  <li><code class="highlighter-rouge">Activity#outputs</code></li>
</ul>

<h3 id="activity-interface-call">Activity Interface: Call</h3>

<p>The <code class="highlighter-rouge">call</code> method runs the instance’s circuit with a provided set of arguments.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>results = activity.call( last_signal, options, flow_options, *args )
</code></pre>
</div>

<p>The inbound arguments are</p>

<ol>
  <li>
<code class="highlighter-rouge">last_signal</code> The signal emitted from the previous activity/task. Usually, this is ignored, but it allows you to start the activity from some other point, depending on that <code class="highlighter-rouge">last_signal</code>. Sometimes, that signal is also called <em>direction</em> in the code base.</li>
  <li>
<code class="highlighter-rouge">options</code> is runtime data from the caller. Depending on your mutation strategy, this should be treated as immutable.</li>
  <li>
<code class="highlighter-rouge">flow_options</code> contains additional framework data for flow control, the task wraps, tracing, etc. Leave this alone unless you know what you’re doing.</li>
  <li>
<code class="highlighter-rouge">*args</code> The activity interface requires any additional numbers of arguments to be accepted (and returned!).</li>
</ol>

<p>The returned objects from the <code class="highlighter-rouge">call</code> are almost identical to the incoming.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>results #=&gt;

[ last_signal, options, flow_options, *args ]
</code></pre>
</div>

<p>Here, <code class="highlighter-rouge">last_signal</code> is your last signal emitted, and <code class="highlighter-rouge">options</code> are all old options plus whatever your activity added. All additional arguments must be returned in the same order.</p>

<p>The signature of an activity (<code class="highlighter-rouge">call</code> arguments and returned objects) is also known as <em>Task interface</em>.</p>

<h3 id="activity-interface-outputs">Activity Interface: Outputs</h3>

<p>An activity also has to expose the <code class="highlighter-rouge">outputs</code> method that defines its end events with semantic data.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>activity.outputs #=&gt;

{
  &lt;Event::End::Success xxx&gt; =&gt; {
    role: :success
  },
  &lt;Event::End::Failure xxx&gt; =&gt; {
    role: :failure
  },
  &lt;Event::End::Failure 0x1&gt; =&gt; {
    role: :unauthorized
  },
}
</code></pre>
</div>

<p>Any <code class="highlighter-rouge">last_signal</code> returned from <code class="highlighter-rouge">call</code> must be a key in the <code class="highlighter-rouge">outputs</code> hash. The value hash must contain the key <code class="highlighter-rouge">:role</code> that specifies a semantical purpose what this end event represents.</p>

<div class="callout">
  
<p>Currently, only <code>:success</code> and <code>:failure</code> are canonically understood, but with the emerge of the <code>activity</code> gem, we expect more standardized ends to come.</p>

</div>

<p>The <code class="highlighter-rouge">:role</code> key makes sure that nested activities’ ends can automatically be connected in the composing, outer activity.</p>

<h2 id="subprocess" data-magellan-target="subprocess">Subprocess</h2>

<p>A major concept of both BPMN and Trailblazer is to be able to compose activities with activities. What is a function or a method in programming is a <em>subprocess</em> in BPMN: a nested activity.</p>

<p><strong>call</strong>
omits start event</p>

<h2 id="bla" data-magellan-target="bla">bla</h2>

<p>circuit.([options, flows], **circuit_args)</p>

<p>signal, [], __ignored_circuit_args = task.([options, flows],**circuit_args)</p>

            </div>

            <div class="large-3 columns sticky-container" data-sticky-container>

              
                <nav class="sticky columns docs-toc-wrap sticky is-anchored is-at-top side-nav" data-sticky data-anchor="docs" data-sticky-on="large" data-margin-top="5">
  
        <ul class="vertical menu" data-magellan id="page-toc">
          <li class="page-toc-heading">ON THIS PAGE:</li>
          <li><a href="api.html#overview">Overview</a></li>
<li><a href="api.html#operation-vs-activity">Operation vs. Activity</a></li>
<li><a href="api.html#activity">Activity</a></li>
<li><a href="api.html#activity-fromhash">Activity: From_Hash</a></li>
<li><a href="api.html#activity-call">Activity: Call</a></li>
<li><a href="api.html#activity-fromwirings">Activity: From_Wirings</a></li>
<li><a href="api.html#signal">Signal</a></li>
<li><a href="api.html#task">Task</a></li>
<li><a href="api.html#task-interface">Task Interface</a></li>
<li><a href="api.html#activity-interface">Activity Interface</a></li>
<li><a href="api.html#subprocess">Subprocess</a></li>
<li><a href="api.html#bla">bla</a></li>
        </ul>
      
</nav>

              

            </div>
          </div>
        </article>
      </div>

      <div class="medium-3 large-2 medium-pull-9 large-pull-10 columns">
        <ul id="sidebar" class="side-nav accordion" data-accordion>

  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>OPERATION</strong> 2.1
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="../../../2.1/trailblazer/wiring.html">Wiring API</a></li>
        <li><a href="../../../2.1/trailblazer/api.html">Operation API</a></li>
        <li><a href="../../operation/2.0/contract.html">Contract</a></li>
        <!--<li><a href="/gems/operation/2.0/representer.html">Representer</a></li>-->
        <li><a href="../../operation/2.0/policy.html">Policy</a></li>
        <li><a href="../../operation/2.0/representer.html">Representer</a></li>
        <!--<li><a href="/gems/operation/2.0/pipetree.html">Pipetree</a></li>-->
        <li><a href="../../operation/2.0/endpoint.html">Endpoint</a></li>
        <li>
<a href="../../operation/1.1/index.html">
            <span class="sidebar-info">→ v1.1</span>
          </a>
        </li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>TRAILBLAZER</strong> 2.1
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="../../trailblazer/index.html">Overview</a></li>
        <li><a href="../../trailblazer/2.0/rails.html">Rails</a></li>
        <li><a href="../../trailblazer/2.0/test.html">Test</a></li>
        <li><a href="../../trailblazer/loader.html">Loader</a></li>
        <li><a href="../../trailblazer/upgrading-1-to-2.html">Upgrading</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>ACTIVITY</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="api.html" class="active">API</a></li>
        <li><a href="flow.html">Control flow</a></li>
      </ul>
    </div>
  </li>


  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>CELLS</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="../../cells.html">Overview</a></li>
        <li><a href="../../cells/getting-started.html">Getting Started<span class="sidebar-info">NEW</span></a></li>
        <li><a href="../../cells/api.html">API</a></li>
        <li><a href="../../cells/trailblazer.html">Trailblazer::Cell</a></li>
        <li><a href="../../cells/testing.html">Testing</a></li>
        <li><a href="../../cells/render.html">Rendering</a></li>
        <li><a href="../../cells/rails.html">Rails</a></li>
        <li><a href="../../cells/templates.html">Templates</a></li>
        <li><a href="../../cells/troubleshooting.html">Troubleshooting</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>REFORM</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="../../reform/index.html">Overview</a></li>
        <li><a href="../../reform/api.html">API</a></li>
        <li><a href="../../reform/options.html">Options</a></li>
        <li><a href="../../reform/data-types.html">Data Types</a></li>
        <li><a href="../../reform/populator.html">Populator</a></li>
        <li><a href="../../reform/prepopulator.html">Prepopulator</a></li>
        <li><a href="../../reform/validation.html">Validation</a></li>
        <li><a href="../../reform/rails.html">Rails</a></li>
        <li><a href="../../reform/debugging.html">Debugging</a></li>
        <li><a href="../../reform/upgrading-guide.html">Upgrading Guide</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>REPRESENTABLE</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="../../representable.html">Overview</a></li>
        <li><a href="../../representable/getting-started.html">Getting Started</a></li>
        <li><a href="../../representable/3.0/api.html">API</a></li>
        <li><a href="../../representable/3.0/function-api.html">Function API</a></li>
        <li><a href="../../representable/3.0/populator.html">Populator</a></li>
        <!--<li><a href="/gems/representable/architecture.html">Architecture</a></li>-->
        <li><a href="../../representable/3.0/xml.html">XML</a></li>
        <li><a href="../../representable/3.0/yaml.html">YAML</a></li>
        <li><a href="../../representable/upgrading-guide.html">Upgrading Guide</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>ROAR</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="../../roar/index.html">Overview</a></li>
        <li><a href="../../roar/jsonapi.html">JSON API</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>FORMULAR</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <!-- <li><a href="/gems/formular/index.html">Overview</a></li> -->
        <li><a href="../../formular/bootstrap.html">Bootstrap</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>DISPOSABLE</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="../../disposable/index.html">Overview</a></li>
        <li><a href="../../disposable/api.html">API</a></li>
        <li><a href="../../disposable/default.html">Default</a></li>
        <li><a href="../../disposable/callback.html">Callback</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="api.html#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>GUIDES</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="../../../guides/index.html">Overview</a></li>
        <li><a href="http://trailblazer.to/guides/trailblazer/2.0/01-operation-basics.html">01 - Operation Basics</a></li>
        <li><a href="http://trailblazer.to/guides/trailblazer/2.0/02-trailblazer-basics.html">02 - Trailblazer Basics</a></li>
        <li><a href="../../../guides/trailblazer/2.0/03-rails-basics.html">03 - Rails Basics</a></li>
      </ul>
    </div>
  </li>

  <!--
  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong></strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="">Overview</a></li>
        
      </ul>
    </div>
  </li>

  -->
</ul>

<script>
  (function (document, window) {
    var $sidebar = $('#sidebar');
    var $items = $sidebar.find('.accordion-item')
    var currentPath = window.location.pathname;

    $items.each(function (i, elem) {
      var $elem = $(elem);
      var linkHref = $elem
        .find('.accordion-content li:first-child a')
        .attr('href')
        .replace('index.html', '');
console.log(linkHref);
      if (currentPath.indexOf(linkHref) !== -1) {
        $elem.addClass('is-active')
      }
    })
  })(document, window);
</script>

      </div>
    </div>


    <section class="top-footer">
  <div class="row">
    <div class="columns medium-6">
      <h3>Newsletter</h3>
      <p>
        Stay on top of what’s happening in Trailblazer.
      </p>
        <div class="row">
          <div id="mc_embed_signup">
            <form action="http://trailblazerb.us8.list-manage.com/subscribe/post?u=bbe5021ab6fbdc94a16f0d036&amp;id=a69f6e4652" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>

              <div class="columns large-9 medium-12 ">
                <div class="row collapse prefix-radius">
                  <div class="small-8 medium-7 large-8 columns">
                    <div id="mc_embed_signup_scroll">
                      <div class="mc-field-group">
                        <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="youremail@trailblazer.to">
                      </div>
                      <div id="mce-responses" class="clear">
                        <div class="response" id="mce-error-response" style="display:none"></div>
                        <div class="response" id="mce-success-response" style="display:none"></div>
                      </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                      <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_bbe5021ab6fbdc94a16f0d036_a69f6e4652" tabindex="-1" value=""></div>

                    </div>
                  </div>
                  <div class="small-4 medium-5 large-4 columns">
                    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button postfix secondary">
                  </div>
                </div>
              </div>
            </form>
          </div>
          <script type="text/javascript" src="http://s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
        </div>
      <p>
        And check out the <a href="../../../newsletter.html">archive of newsletters</a>!
      </p>


    </div>
    <div class="columns medium-6">
      <h3>The Book</h3>
      <p>Learn how to build a Rails app with Trailblazer, step-by-step.</p>
      <a href="https://leanpub.com/trailblazer" class="button secondary">Get the book!</a>
    </div>
  </div>
</section>

<footer>
  <div class="row">
    <div class="columns medium-4">
      <div class="logo-box">
        <a href="../../../index.html"><img src="../../../images/icon_trb.png">
        </a>
      </div>
    </div>
    <div class="columns medium-8">
      <div class="row">
        <div class="columns medium-6">
          <h4>
            Trailblazer
          </h4>
          <ul class="no-bullet">
            <li><a href="https://gitter.im/trailblazer/chat">Gitter chat</a></li>
            <li><a href="https://leanpub.com/trailblazer" onclick="trackOutboundLink('https://leanpub.com/trailblazer'); return false;">The book</a></li>
          </ul>
        </div>
        <div class="columns medium-6">
          <h4>
            Follow Us
          </h4>
          <ul class="menu">
            <li>
              <a href="https://github.com/trailblazer">
                <i class="footer-icon github-icon"></i>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/trailblazer_to">
                <i class="footer-icon twitter-icon"></i>
              </a>
            </li>
            <li>
              <a href="https://facebook.com/trailblazer.to">
                <i class="footer-icon facebook-icon"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <p class="copyright">
        Trailblazer is created by <a href="../../../inc/index.html">Trailblazer GmbH</a> and awesome friends.
      </p>
      <p class="copyright">
        Site designed and handcoded with love by <a href="https://twitter.com/noeliacabane">Noelia Cabane</a>
      </p>
    </div>
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69514939-1', 'auto');
  ga('send', 'pageview');

  /**
  * Function that tracks a click on an outbound link in Analytics.
  * This function takes a valid URL string as an argument, and uses that URL string
  * as the event label. Setting the transport method to 'beacon' lets the hit be sent
  * using 'navigator.sendBeacon' in browser that support it.
  */
  var trackOutboundLink = function(url) {
     ga('send', 'event', 'outbound', 'click', url, {
       'transport': 'beacon',
       'hitCallback': function(){document.location = url;}
     });
  }
</script>



  </body>
</html>
